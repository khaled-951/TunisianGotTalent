{% extends 'base.html.twig' %}

{% block body %}
    <div class="page_container">
        <div class="breadcrumb">
            <div class="wrap">
                <div class="container">
                </div>
            </div>
        </div>
        <div class="wrap">
            <div class="container">
                <section>
                    <div class="row pad5">
                        <div class="span8">
                            <h2 class="title"><span>{{ topic.sujet }}</span></h2>
                            <div class="post">
                                <img alt="" src="{{ asset('images/') }}{{ topic.photo }}" style="width:1100px;height: 500px">
                                <br>    <div class="fleft">En <span>{% if topic.date %}{{ topic.date|date('Y-m-d') }}{% endif %}</span> / Par <a href="#">{{ topic.topicBy }}</a> / Categorie {{ topic.categorie }}</div>
                                <br><div class="fright"><a href="#">{{ topic.nbrc }}</a> Comments</div>
                                <br><div class="clear"></div>

                                <p>{{ topic.description|raw}}</p>
                            </div>
                            <div class="detailsInfoBox" align="right">
                                <h3>Donner une note</h3>
                                <div class="listingReview">

                                    <ul class="list-inline rating rating-review">
                                        <div class="stars">
                                            <input class="star star-5" id="star-5" type="radio" name="star"/>
                                            <label class="star star-5" for="star-5"></label>
                                            <input class="star star-4" id="star-4" type="radio" name="star"/>
                                            <label class="star star-4" for="star-4"></label>
                                            <input class="star star-3" id="star-3" type="radio" name="star"/>
                                            <label class="star star-3" for="star-3"></label>
                                            <input class="star star-2" id="star-2" type="radio" name="star"/>
                                            <label class="star star-2" for="star-2"></label>
                                            <input class="star star-1" id="star-1" type="radio" name="star"/>
                                            <label class="star star-1" for="star-1"></label>
                                        </div>
                                        <style>
                                            div.stars {
                                                width: 270px;
                                                display: inline-block;
                                            }
                                            input.star { display: none; }
                                            label.star {
                                                float: right;
                                                padding: 10px;
                                                font-size: 36px;
                                                color: #444;
                                                transition: all .2s;
                                            }
                                            input.star:checked ~ label.star:before {
                                                content: '\f005';
                                                color: #FD4;
                                                transition: all .25s;
                                            }
                                            input.star-5:checked ~ label.star:before {
                                                color: #FE7;
                                                text-shadow: 0 0 20px #952;
                                            }
                                            input.star-1:checked ~ label.star:before { color: #F62; }
                                            label.star:hover { transform: rotate(-15deg) scale(1.3); }
                                            label.star:before {
                                                content: '\f006';
                                                font-family: FontAwesome;
                                            }
                                        </style>
                                    </ul>
                                </div>
                            </div>
                            <!-- Comments -->
                            <h4>{{ topic.nbrc  }} commentaire</h4>
                            {% for replay in replies %}
                            <div id="comments">
                                <ol>
                                    <li>
                                        <div class="comment_right">
                                            <div class="comment_info">
                                                Posté par <a href="#"></a> <span>{{ replay.relayby }} </span> {{ replay.datereplay|date('Y-m-d') }}<span>|</span>
                                            </div>
                                            {{ replay.contenu|raw }}
                                        </div>
                                        <div class="clear"></div>
                                    </li>
                                    {% endfor %}

                                </ol>
                                <!-- //Comments -->

                                <!-- Leave a Comment -->
                                <a class="btn btn-danger"  href="/groupe/topic/Replay/replay/{{ topic.id }}/new"><i class="far fa-comment-dots"></i></i>Commenter </a>
                            </div>


                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <!--//page_container-->


    <meta name="description" content="">
    <meta name="author" content="">
  <link  href="{{ asset('template/css/font-awesome.min.css')}}"/>
    <link href="{{ asset('css/prettyPhoto.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{ asset( 'css/bootstrap.css')}}" rel="stylesheet">
    <link href="{{ asset( 'css/theme.css')}}" rel="stylesheet">
    <link href="{{ asset( 'css/bootstrap-responsive.css')}}" rel="stylesheet">
    <link href="{{ asset(  'css/docs.css')}}" rel="stylesheet">
    <link href="{{ asset( 'js/google-code-prettify/prettify.css')}}" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600' rel='stylesheet' type='text/css'>
    {% block javascripts %}
        {{ parent() }}

        <script>
            var valeur = 0 ;
            $("#star-2")
                .click(function () {
                    valeur = 2 ;
                    $.get("/groupe/topic/topics/rate/{{ app.user.id }}/{{ topic.id }}/"+ valeur,function (data) {

                        console.log(data);
                        if(data == "error"){
                            alert("Vous avez déja mis une note");
                        }
                        if(data == "Done"){
                            alert("Done !");
                        }

                    });


                });
            $("#star-3")
                .click(function () {
                    valeur = 3 ;
                    $.get("/groupe/topic/topics/rate/{{ app.user.id }}/{{ topic.id }}/"+ valeur,function (data) {

                        console.log(data);
                        if(data == "error"){
                            alert("Vous avez déja mis une note");
                        }
                        if(data == "Done"){
                            alert("Done !");
                        }

                    });

                });
            $("#star-4")
                .click(function () {
                    valeur = 4 ;
                    $.get("/groupe/topic/topics/rate/{{ app.user.id }}/{{ topic.id }}/" +valeur,function (data) {

                        console.log(data);
                        if(data == "error"){
                            alert("Vous avez déja mis une note");
                        }
                        if(data == "Done"){
                            alert("Done !");
                        }

                    });

                });
            $("#star-5")
                .click(function () {
                    valeur = 5 ;
                    $.get("/groupe/topic/topics/rate/{{ app.user.id }}/{{ topic.id }}/"+ valeur,function (data) {

                        console.log(data);
                        if(data == "error"){
                            alert("Vous avez déja mis une note");
                        }
                        if(data == "Done"){
                            alert("Done !");
                        }

                    });
                });
            $("#star-1")
                .click(function () {
                    valeur = 1 ;
                    $.get("/groupe/topic/topics/rate/{{ app.user.id }}/{{ topic.id }}/"+ valeur,function (data) {

                        console.log(data);
                        if(data == "error"){
                            alert("Vous avez déja mis une note");
                        }
                        if(data == "Done"){
                            alert("Done !");
                        }

                    });
                })
        </script>
    {% endblock  %}
{% endblock %}